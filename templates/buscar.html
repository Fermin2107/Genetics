{% extends "base.html" %}
{% block content %}
<h2>Buscar animales en la raza: {{ raza.nombre }}</h2>
<form method="get" action="">
    <label for="rp">RP:</label>
    <input type="text" name="rp" id="rp" value="{{ request.args.get('rp', '') }}">

    <label for="nombre">Nombre:</label>
    <input type="text" name="nombre" id="nombre" value="{{ request.args.get('nombre', '') }}">

    <label for="padre">Padre:</label>
    <input type="text" name="padre" id="padre" value="{{ request.args.get('padre', '') }}">

    <label for="madre">Madre:</label>
    <input type="text" name="madre" id="madre" value="{{ request.args.get('madre', '') }}">

    <label for="sexo">Sexo:</label>
    <input type="text" name="sexo" id="sexo" value="{{ request.args.get('sexo', '') }}">

    <!-- FILTROS FECHA NACIMIENTO -->
    <label for="fecha_nac_min">Fecha Nac. (mín):</label>
    <input type="date" name="fecha_nac_min" id="fecha_nac_min" value="{{ request.args.get('fecha_nac_min', '') }}">
    <label for="fecha_nac_max">Fecha Nac. (máx):</label>
    <input type="date" name="fecha_nac_max" id="fecha_nac_max" value="{{ request.args.get('fecha_nac_max', '') }}">

    <!-- FILTROS NUMÉRICOS -->
    <label for="pezuñas_min">Pezuñas (mín):</label>
    <input type="number" step="any" name="pezuñas_min" id="pezuñas_min" value="{{ request.args.get('pezuñas_min', '') }}">
    <label for="pezuñas_max">Pezuñas (máx):</label>
    <input type="number" step="any" name="pezuñas_max" id="pezuñas_max" value="{{ request.args.get('pezuñas_max', '') }}">

    <label for="articulacion_min">Articulación (mín):</label>
    <input type="number" step="any" name="articulacion_min" id="articulacion_min" value="{{ request.args.get('articulacion_min', '') }}">
    <label for="articulacion_max">Articulación (máx):</label>
    <input type="number" step="any" name="articulacion_max" id="articulacion_max" value="{{ request.args.get('articulacion_max', '') }}">

    <label for="valoracion_min">Valoracion (mín):</label>
    <input type="number" step="any" name="valoracion_min" id="valoracion_min" value="{{ request.args.get('valoracion_min', '') }}">
    <label for="valoracion_max">Valoracion (máx):</label>
    <input type="number" step="any" name="valoracion_max" id="valoracion_max" value="{{ request.args.get('valoracion_max', '') }}">

    <button type="submit">Buscar</button>
</form>
<p>Cantidad: {{ cantidad }}</p>

<table>
    <thead>
        <tr>
            <th>RP</th>
            <th>Nombre</th>
            <th>Padre</th>
            <th>Madre</th>
            <th>Valoracion</th>
            <th>Clase</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        {% for animal in animales %}
        <tr>
            <td>{{ animal.rp }}</td>
            <td>{{ animal.nombre }}</td>
            <td>{{ animal.padre }}</td>
            <td>{{ animal.madre }}</td>
            <td>{{ animal.valoracion }}</td>
            <td>{{ animal.clase }}</td>
            <td>
                <a href="{{ url_for('ficha_animal', id=animal.id) }}">Ver</a>
                <a href="{{ url_for('editar_animal', id=animal.id) }}">Editar</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}

